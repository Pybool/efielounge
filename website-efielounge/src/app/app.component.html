<router-outlet></router-outlet>
<div *ngIf="user" id="dock-btn" class="btn" (click)="cartDocker()">
  <div class="cart-icon">
    <svg style="width:25px;height:25px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
      <path style="fill:orange"
        d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z">
      </path>
    </svg>
    <sup><span *ngIf="cartCount>0" class="badge">{{cartCount}}</span></sup>
  </div>
</div>
<div *ngIf="user" id="dock-widget">
  <app-cart-docked (booleanEvent)="handleBooleanEvent($event)" [showCartModal]="showCartModal"
    [selectedMenu]="selectedMenu">
  </app-cart-docked>

</div>

<div (click)="cartDocker()" class="cart-overlay "></div>
<div class="base-cookie-banner flex-end">
  <h6 class="text-left cookie-header-text"><b>WHAT IS A COOKIE?</b></h6>
  <button (click)="closeCookies()" class="close-button">&times;</button>
  <p class="b-text">
    A cookie is a very small text document, which often includes an anonymous unique identifier.
    When you visit a website, that site’s computer asks your computer for permission to store this
    file in a part of your hard drive specifically designated for cookies. Each website can send its
    own cookie to your browser if your browser’s preferences allow it, but (to protect your privacy)
    your browser only permits a website to access the cookies it has already sent to you, not the
    cookies sent to you by other sites. We also use technologies similar to Cookies described here
    as “Tags”, such as “web beacons” or “pixel tags”. Tags allow us to track receipt of an e-mail to
    you, and/or to view your web page and email interactions. Once you click on an e-mail that

    contains a Tag, your contact information may subsequently be cross-referenced to the source e-
    mail and the relevant Tag.
  </p>
  <h6 class="text-left cookie-header-text"><b>HOW DO WE USE INFORMATION WE COLLECT FROM COOKIES?</b></h6>
  <p class="b-text">
    As you browse on our website, the website uses cookies to differentiate you from other users to
    prevent you from seeing unnecessary advertisements or requiring you to log in more than is
    necessary for security. Cookies, in conjunction with our web server’s log files, allow us to
    calculate the aggregate number of people visiting our website and which parts of the website
    are most popular. This helps us gather feedback so that we can improve our website and better
    serve our customers.
    <br>
    Cookies do not allow us to gather any personal Information about you and
  </p>
  <style>
    td,
    th {
      padding: 20px;
    }
  </style>
  <table class="table responsive table-striped">
    <thead>
      <th>Provider</th>
      <th>Name</th>
      <th>Use Case</th>
    </thead>
    <tbody>
      <tr>
        <td>Efielounge</td>
        <td style="white-space: nowrap">
          efl-access-token
        </td>
        <td>
          This cookie is a credential that allows users to authenticate their identity and access protected resources
          on our website. To manage this, we store the access token in a cookie
          identified by the key efl-access-token.
        </td>
      </tr>
      <tr>
        <td>Efielounge</td>
        <td style="white-space: nowrap">
          efl-refresh-token
        </td>
        <td>
          This cookie is a credential that allows users to authenticate and request for new accessTokens
          on our website without needing to log in repeatedly. To manage this, we store the access token in a cookie
          identified by the key efl-refresh-token.
        </td>
      </tr>
      <tr>
        <td>Google</td>
        <td style="white-space: nowrap">
          NID
        </td>
        <td>
          The NID cookie contains a unique ID that Google uses to remember your preferences and other information, such
          as your preferred language (e. g. English), how many search results you wish to have shown per page (e.g. 10
          or 20) and whether or not you wish to have Google’s SafeSearch filter turned on.
        </td>
      </tr>
      <tr>
        <td>Google</td>
        <td style="white-space: nowrap">
          CONSENT
        </td>
        <td>
          Cookie consent setting.
        </td>
      </tr>
    </tbody>
  </table>

  <h6 class="text-left cookie-header-text"><b>Security Measures?</b></h6>
  <p>
    To protect the access token and ensure it is handled securely:</p>

   <ul>
    <li>
      HTTP-Only: The cookie storing the access token is marked as HTTP-only, meaning it is inaccessible to client-side
      scripts. This helps prevent cross-site scripting (XSS) attacks from stealing the token.
    </li>
    <li>
      Secure Flag: The cookie is only transmitted over secure HTTPS connections, preventing it from being exposed during
      data transmission.
    </li>
    <li>
      SameSite Attribute: The SameSite attribute is used to restrict how cookies are sent with cross-site requests,
      helping to prevent cross-site request forgery (CSRF) attacks.
    </li>
   </ul>
    
    

  <h6 class="text-left cookie-header-text"><b>HOW DO WE MANAGE COOKIES?</b></h6>
  <p>
    You can find more information about how to manage and remove cookies
    <a class="cookie-header-text" target="_blank" href="https://allaboutcookies.org/manage-cookies/">here</a>
  </p>
  <div class="flex-row-sb b-text">
    <div class="col-md-9 col-sm-12 col-lg-9" style="padding-top:10px;">
      By clicking "Allow Cookies" or continuing to use our website, you consent to
      the use of cookies as described in our
      <a href="’insert"> cookie policy</a>.
    </div>
    <button (click)="acceptCookies()" class="accept-cookies btn" id="accept-cookies-btn">
      Allow Cookies
    </button>

  </div>
  <p></p>


</div>

<div *ngIf="promotions.length > 0" id="promotions-modal" class="modal">
  <div class="modal-content">
    <div class="flex-row-sb">
      <h4 class="flex-row-sb">
        <app-ringing-bell></app-ringing-bell>
        <span style="color:orange">ALERT!!</span>
      </h4>
      <button (click)="toggleTransferModal()" class="close-button">&times;</button>
    </div>
    <div #scrollablePromotions class="card-container ">
      <div class="promotions-card" *ngFor="let promotion of promotions">
        <div *ngIf="promotionIsScreenEligible" class="">
          <h6 style="padding:12px; background: ghostwhite; font-size: 1.2em;">{{promotion.description}}</h6>
          <div style="gap: 20px; flex-wrap: wrap; justify-content: end;" class="flex-row-sb">
            <ng-container *ngFor="let attachment of promotion.attachments">
              <img class="promotion-image" src="{{serverUrl}}{{attachment.url.replace('/public','')}}" />
            </ng-container>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <a href="javascript:void(0)" (click)="markPromotionAsSeen()" class="has-paid btn">Next Time</a>
      <button (click)="toggleTransferModal()" id="cancelButton" class="modal-close btn">Exit</button>
    </div>
  </div>

</div>

<app-terms *ngIf="(showTerms && !user?.acceptedTerms) || forceShowterms"
  (booleanEvent)="handleTermsBooleanEvent($event)"></app-terms>
<app-privacy-policy (booleanEvent)="handlePrivacyBooleanEvent($event)"></app-privacy-policy>